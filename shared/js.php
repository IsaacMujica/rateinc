<!-- jQuery first, then Popper.js, then Bootstrap JS --><!-- <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script> --><script type="text/javascript" src="<?= HOST ?>/public/js/jquery-3.3.1.min.js"></script><script type="text/javascript" src="<?= HOST ?>/public/vendor/bootstrap-4.2.1/js/popper.min.js"></script><script type="text/javascript" src="<?= HOST ?>/public/vendor/bootstrap-4.2.1/js/bootstrap.min.js"></script><!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>--><!--<script type="text/javascript" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script><script type="text/javascript" src="https://cdn.datatables.net/1.10.18/js/dataTables.bootstrap4.min.js"></script>--><script type="text/javascript" src="<?= HOST ?>/public/vendor/datatables-1.10.18/js/jquery.dataTables.min.js"></script><script type="text/javascript" src="<?= HOST ?>/public/vendor/datatables-1.10.18/js/dataTables.bootstrap4.min.js"></script><script type="text/javascript" src="<?= HOST ?>/public/vendor/typeahead.bundle.js"></script><script src="https://www.amcharts.com/lib/4/core.js"></script><script src="https://www.amcharts.com/lib/4/charts.js"></script><script src="https://www.amcharts.com/lib/4/themes/animated.js"></script><script src="<?= HOST ?>/public/vendor/validate.min.js"></script><script src="<?= HOST ?>/public/vendor/sweetalert/dist/sweetalert.min.js"></script><script src="<?= HOST ?>/public/vendor/jquery.Rut.min.js"></script><script src="<?= HOST ?>/public/js/misc.js"></script><script src="<?= HOST ?>/public/js/custom.js"></script><script>    $(function ($) {        $.validator.addMethod('rut', function (value, element) {             return $.Rut.validar(value)         }, 'El RUT debe ser válido');        $.validator.addMethod('url_final', function(value, element){            if (value != "")                return /^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/.test(value);            else                return true;        }, 'La URL debe ser válida');        $(".sidebar-dropdown > a").click(function() {            $(".sidebar-submenu").slideUp(200);            if (                $(this)                    .parent()                    .hasClass("active")            ) {                $(".sidebar-dropdown").removeClass("active");                $(this)                    .parent()                    .removeClass("active");            } else {                $(".sidebar-dropdown").removeClass("active");                $(this)                    .next(".sidebar-submenu")                    .slideDown(200);                $(this)                    .parent()                    .addClass("active");            }        });        $("#close-sidebar").click(function() {            $(".page-wrapper").removeClass("toggled");        });        $("#show-sidebar").click(function() {            $(".page-wrapper").addClass("toggled");        });        $("#btnCerrarSesion").on("click", function () {            $.ajax({                url: "<?= CONTROLLERS ?>/login.php",                type: "POST",                data: {                    acc: 2                },                error: function (e) {                    console.info(e);                },                beforeSend: function () {                },                success: function (data) {                    eval(data);                    if (r.resultado == "OK") {                        location.href = r.irURL;                        localStorage.clear();                    }else{                        alertFail("Error",r.mensaje);                        setTimeout(function(){location.href = r.irURL},3000);                    }                }            });        });        $("#formCambioClave").validate({            rules: {                txtPasswordActual: {                    required: true                },                txtPasswordNuevo: {                    required: true,                    minlength: 6                },                txtPasswordConfirm: {                    required: true,                    minlength: 6                }            },            messages: {                txtPasswordActual: {                    required: "Debe ingresar su contraseña actual"                },                txtPasswordNuevo: {                    required: "Debe ingresar su nueva contraseña",                    minlength: "Debe ingresar minimo 6 caracteres"                },                txtPasswordConfirm: {                    required: "Debe confirmar su nueva contraseña",                    minlength: "Debe ingresar minimo 6 caracteres"                }            },            errorElement: 'span',            errorClass: 'is-invalid invalid-feedback',            highlight: function (element) {                $(element).addClass('has_error is-invalid');            },            submitHandler: function (form) {                let formData = $(form).serialize();                $.ajax({                    url: "<?= CONTROLLERS ?>/login.php",                    type: "POST",                    data: "acc=5&" + formData,                    error: function (e) {                        alert("En desarrollo.... " + e.responseText);                    },                    beforeSend: function () {                        $("#btnGuardarCambiarClave").prop("disabled", true);                    },                    success: function (data) {                        $.globalEval(data);                        if (response.respuesta == "OK") {                            alertOk("Correcto", response.mensaje, function () {                                $('#modalCambioClave').modal('hide');                            });                        } else {                            alertFail("Error", response.mensaje);                        }                        $("#btnGuardarCambiarClave").prop("disabled", false);                    }                });            }        });        $("#modalEditarPerfil").ready(function(){            $.ajax({                url: "<?= CONTROLLERS ?>/usuario.php",                type: "POST",                data: "acc=6&idU=<?=$_SESSION['USUARIO_ID'];?>",                error: function (e) {                    console.info(e);                },                beforeSend: function () {                },                success: function (data) {                    var resp = JSON.parse(data);                    $("#txtNombre").val(resp.nombre);                    $("#txtPaterno").val(resp.apellido_paterno);                    $("#txtMaterno").val(resp.apellido_materno);                    $("#txtEmail").val(resp.email);                    $("#txtCelular").val(resp.celular);                    $("#txtTelefono").val(resp.telefono);                }            });        });        $("#formEditarPerfil").validate({            rules: {                txtNombre: {                    required: true                },                txtPaterno: {                    required: true                },                txtMaterno: {                    required: true                },                txtEmail: {                    required: true,                    email: true                },                txtCelular: {                    required: true,                    minlength: 9                },                txtTelefono: {                    required: true,                    minlength: 9                }            },            messages: {                txtNombre: {                    required: "Debe ingresar su nombre"                },                txtPaterno: {                    required: "Debe ingresar su apellido paterno"                },                txtMaterno: {                    required: "Debe ingresar su apellido materno"                },                txtEmail: {                    required: "Debe ingresar su email",                    email: "El email debe ser válido"                },                txtCelular: {                    required: "Debe ingresar un celular",                    minlength: "Debe contener 9 dígitos"                },                txtTelefono: {                    required: "Debe ingresar un teléfono",                    minlength: "Debe contener 9 dígitos"                }            },            errorElement: 'span',            errorClass: 'is-invalid invalid-feedback',            highlight: function (element) {                $(element).addClass('has_error is-invalid');            },            submitHandler: function (form) {                let formData = $(form).serialize();                $.ajax({                    url: "<?= CONTROLLERS ?>/usuario.php",                    type: "POST",                    data: "acc=7&idU=<?=$_SESSION['USUARIO_ID'];?>&" + formData,                    error: function (e) {                        alert("Error: " + e.responseText);                    },                    beforeSend: function () {                        $("#btnGuardarInfo").prop("disabled", true);                    },                    success: function (data) {                        $.globalEval(data);                        if (r.resultado == "OK") {                            alertOk("Correcto", r.mensaje, function () {                                $("#modalEditarPerfil").modal("hide");                            });                        } else {                            alertFail("Error", r.mensaje);                        }                        $("#btnGuardarInfo").prop("disabled", false);                    }                });            }        });        function clearMenuSection(){            localStorage.menuDash = 0;            localStorage.menuComNCot = 0;            localStorage.menuComCot = 0;            localStorage.menuComEP = 0;            localStorage.menuComServ = 0;            localStorage.menuComEmp = 0;            localStorage.menuAdmSed = 0;            localStorage.menuAdmUsu = 0;        }        //console.log(localStorage.menuDash+"-"+localStorage.menuComCot+"-"+localStorage.menuComEP+"-"+localStorage.menuComEmp+"-"+localStorage.menuAdmSed+"-"+localStorage.menuAdmUsu);        //localStorage.menuDash = 1;        $(".mDash").on("click", function(){            clearMenuSection();            localStorage.menuDash = 1;        });        $(".mComNCot").on("click", function(){            clearMenuSection();             localStorage.menuComNCot = 1;        });        $(".mComCot").on("click", function(){             clearMenuSection();             localStorage.menuComCot = 1;         });        $(".mComEP").on("click", function(){             clearMenuSection();             localStorage.menuComEP = 1;         });        $(".mComServ").on("click", function(){             clearMenuSection();             localStorage.menuComServ = 1;         });        $(".mComEmp").on("click", function(){             clearMenuSection();             localStorage.menuComEmp = 1;         });        $(".mAdmSed").on("click", function(){             clearMenuSection();             localStorage.menuAdmSed = 1;         });        $(".mAdmUsu").on("click", function(){             clearMenuSection();            localStorage.menuAdmUsu = 1;        });        //validaciones        if(localStorage.menuDash == 1){            $(".mDash").css("color", "white").addClass("active");        }        if(localStorage.menuComCot == 1){            $(".mComCot").css("color", "white");            $(".mComGen").addClass("active");            $(".mComGen .sidebar-submenu").css("display", "block");        }        if(localStorage.menuComNCot == 1){            $(".mComNCot").css("color", "white");            $(".mComGen").addClass("active");            $(".mComGen .sidebar-submenu").css("display", "block");        }        if(localStorage.menuComEP == 1){            $(".mComEP").css("color", "white");            $(".mComGen").addClass("active");            $(".mComGen .sidebar-submenu").css("display", "block");        }        if(localStorage.menuComServ == 1){            $(".mComServ").css("color", "white");            $(".mComGen").addClass("active");            $(".mComGen .sidebar-submenu").css("display", "block");        }        if(localStorage.menuComEmp == 1){            $(".mComEmp").css("color", "white");            $(".mComGen").addClass("active");            $(".mComGen .sidebar-submenu").css("display", "block");        }        if(localStorage.menuAdmSed == 1){            $(".mAdmSed").css("color", "white");            $(".mAdmGen").addClass("active");            $(".mAdmGen .sidebar-submenu").css("display", "block");        }        if(localStorage.menuAdmUsu == 1){            $(".mAdmUsu").css("color", "white");            $(".mAdmGen").addClass("active");            $(".mAdmGen .sidebar-submenu").css("display", "block");        }        //localStorage.menuDash == 1 ? $(".mDash").css("color", "white").addClass("active") : "";        //localStorage.menuComCot == 1 ? $(".mComCot").css("color", "white").addClass("active") : "";        //localStorage.menuComNCot == 1 ? $(".mComNCot").css("color", "white").addClass("active") : "";        //localStorage.menuComEP == 1 ? $(".mComEP").css("color", "white").addClass("active") : "";        //localStorage.menuComServ == 1 ? $(".mComServ").css("color", "white").addClass("active") : "";        //localStorage.menuComEmp == 1 ? $(".mComEmp").css("color", "white").addClass("active") : "";        //localStorage.menuAdmSed == 1 ? $(".mAdmSed").css("color", "white").addClass("active") : "";        //localStorage.menuAdmUsu == 1 ? $(".mAdmUsu").css("color", "white").addClass("active") : "";    });</script>